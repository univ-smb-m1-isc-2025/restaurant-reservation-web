<div class="flex flex-col w-full h-full gap-6 lg:flex-row">
  <div class="min-w-[300px] w-full h-96 lg:h-full lg:w-1/2">
    <img class="object-cover w-full h-full" src="assets/auth-image.jpg">
  </div>

  <div class="flex flex-col justify-center min-w-[300px] w-full h-auto lg:h-full lg:w-1/2 p-8 gap-8">
    <h1 class="text-2xl text-white">Inscription</h1>
    <form
      [formGroup]="registerForm"
      class="flex flex-col gap-8 w-full"
    >
      <div class="flex flex-col sm:flex-row gap-6">
          <div class="flex flex-col w-full gap-2">
            <label for="firstName" class="text-sm font-medium text-onSurface">Prénom</label>
            <input
              id="firstName"
              formControlName="firstName"
              type="text"
              placeholder="Saisir votre prénom"
              class="w-full p-3 bg-secondarySurface border border-gray-500 rounded-md focus:outline-none focus:none text-onSecondarySurface"
            />
            <div
              class="flex flex-col gap-2 mt-2 text-sm text-red-500"
              *ngIf="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched"
            >
              <small *ngIf="registerForm.get('firstName')?.hasError('required')">
                Le prénom est requis.
              </small>
            </div>
          </div>
        
          <div class="flex flex-col w-full gap-2">
            <label for="lastName" class="text-sm font-medium text-onSurface">Nom</label>
            <input
              id="lastName"
              formControlName="lastName"
              type="text"
              placeholder="Saisir votre nom"
              class="w-full p-3 bg-secondarySurface border border-gray-500 rounded-md focus:outline-none focus:none text-onSecondarySurface"
            />
            <div
              class="flex flex-col gap-2 mt-2 text-sm text-red-500"
              *ngIf="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched"
            >
              <small *ngIf="registerForm.get('lastName')?.hasError('required')">
                Le nom est requis.
              </small>
            </div>
          </div>
      </div>

      <div class="flex flex-col w-full gap-2">
        <label for="email" class="text-sm font-medium text-onSurface">Adresse mail</label>
        <input
          id="email"
          formControlName="email"
          type="email"
          placeholder="Saisir votre adresse mail"
          class="w-full p-3 bg-secondarySurface border border-gray-500 rounded-md focus:outline-none focus:none text-onSecondarySurface"
        />
        <div
          class="flex flex-col gap-2 mt-2 text-sm text-red-500"
          *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
        >
          <small *ngIf="registerForm.get('email')?.hasError('required')">
            L'adresse mail est requise.
          </small>
          <small *ngIf="registerForm.get('email')?.hasError('email')">
            Veuillez saisir une adresse mail valide.
          </small>
        </div>
      </div>

      <div class="flex flex-col sm:flex-row gap-6">
        <div class="flex flex-col w-full gap-2">
          <label for="password" class="text-sm font-medium text-onSurface">Mot de passe</label>
          <input
            id="password"
            formControlName="password"
            type="password"
            placeholder="Entrer votre mot de passe"
            class="w-full p-3 bg-secondarySurface border border-gray-500 rounded-md focus:outline-none text-onSecondarySurface"
          />
          <div class="flex flex-col gap-2 mt-2 text-sm text-red-500" *ngIf="registerForm.get('password')?.touched">
            <small *ngIf="registerForm.get('password')?.hasError('required')">Le mot de passe est requis.</small>
            <small *ngIf="registerForm.get('password')?.hasError('weakPassword')">
              Le mot de passe doit contenir au moins 6 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial.
            </small>
          </div>
        </div>
        
        <div class="flex flex-col w-full gap-2">
          <label for="confirmPassword" class="text-sm font-medium text-onSurface">Mot de passe (confirmation)</label>
          <input
            id="confirmPassword"
            formControlName="confirmPassword"
            type="password"
            placeholder="Confirmer votre mot de passe"
            class="w-full p-3 bg-secondarySurface border border-gray-500 rounded-md focus:outline-none text-onSecondarySurface"
          />
          <div class="flex flex-col gap-2 mt-2 text-sm text-red-500" *ngIf="registerForm.get('confirmPassword')?.touched">
            <small *ngIf="registerForm.get('confirmPassword')?.hasError('required')">
              La confirmation du mot de passe est requise.
            </small>
          </div>
          <div class="flex flex-col gap-2 mt-2 text-sm text-red-500" *ngIf="registerForm.errors?.['mismatch'] && registerForm.touched">
            <small>Les mots de passe ne correspondent pas.</small>
          </div>
        </div>        
      </div>
    </form>

    <div class="flex flex-col sm:flex-row gap-2 sm:gap-8">
      <button
      (click)="onSubmit()"
      class="w-full sm:w-2/3 mt-4 py-3 bg-primary text-white rounded-md focus:none disabled:bg-gray-400"
      >
        Valider l'inscription
      </button>

      <button
        (click)="toLogin()"
        class="w-full sm:w-1/3 mt-4 py-3 text-onSurface bg-surface rounded-md focus:none disabled:bg-gray-400"
      >
        Connexion
      </button>
    </div>
  </div>
</div>
